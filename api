uni.getEnterOptionsSync() 
获取启动时的参数 
注意: 各平台在启动时,参数获取存在差异 
APP平台: 返回值与APP.onLaunch的回调参数一致 
Web平台: 返回值与APp.onLaunch的回调参数一致,不同Vue版本支持情况有差异: 
小程序平台: 如果当前小程序是冷启动,则返回值与App.onLaunch的回调参数一致,如果当前是热启动,则返回值与App.onSHow一致
 参数 
 path  启动的路径 代码包路径

scene 启动时的场景值,具体值含义请查看各平台文档说明,App,web端恒为1001 
query 启动时的query参数 
referrerInfo 来源信息,如果没有则返回 
channel 如果应用没有设置渠道标识,则返回空字符串 

channel取值  默认提供7各渠道  google, 360,小米,华为,应用宝,vivo,oppo 更多可以在mainfest.json文件中源码视图进行配置 




小程序启动
从用户认知的角度看,广义的小程序启动可以分为两种情况,一种是冷启动,一种是热启动

冷启动: 如果用户首次打开,或小程序销毁后被用户再次打开,此时程序需要重新加载启动,即冷启动
热启动: 如果用户已经打开过某小程序,然后在一定时间内再次打开小程序,此时小程序并未销毁,只是从后台状态进入前台状态 
这个过程就是热启动 
从小程序生命周期的角度来看,我们一般讲的启动专指冷启动, 热启动一般被称为后台切前台 


前台与后台 
小程序启动后,界面被展示给用户,此时小程序处于前台状态
当用户关闭小程序,小程序没有真正被关闭,而是进入了后台状态,此时小程序还可以短暂运行一段时间 ,但部分APi的使用会受到限制 
切后台的方式包括但不限于以下几种
点击右上角胶囊按钮离开小程序
IOS从屏幕左侧右滑离开小程序 
安卓点击返回键离开小程序
小程序前台运行时直接把微信切后台(手势或home键)
小程序前台运行时直接锁屏
当用户再次进入微信并打开小程序,小程序又会重新进入前台状态 


挂起: 
小程序进入后台状态一段时间后 目前是5秒,微信会停止小程序JS线程的执行,小程序进入挂起的状态,此时小程序的内存状态会保留,但开发者
代码执行会停止,事件和接口回调会在小程序再次进入前台时触发 
当开发者使用了后台音乐播放,后台地理位置等能力时,小程序可以在后台持续运行,不会进入到挂起状态 

小程序销毁 
如果用户很久没有使用小程序,使用系统资源紧张,小程序会被销毁,即完全终止运行,具体而言包括以下几种情形 
当小沉香谷进入后台并被挂起后,如果很长时间(目前是30分钟)都未再次进入前台, 小程序会被销毁 
当小程序占用系统资源过高,可能会被系统销毁或被微信客户端主动回收 

当IOS上,当微信客户端在一定时间间隔连续收到系统内存警告时,会根据一定的策略,主动销毁小程序,并提示用户运行内存不足,请重新
打开小程序, 具体策略会持续进行调整优化 

在IOS上,当微信客户端在一定时间间隔内连续收到系统内存警告时,会根据一定的策略,主动销毁小程序,并提示用户运行内存不足,请重新打开
该小程序  

建议小程序在必要时使用wx.onMemoryWarning监听内存警告事件,进行必要的内存清理  


小程序冷启动的页面  

小程序冷启动时,打开的页面有以下情况
A类场景,若启动的场景中不带path 
B类场景, 若启动的场景中带有path,则启动进入对应path的页面 


重新启动策略 
小程序冷启动时,如果启动时不带path A类场景, 默认情况下会进入小程序的首页,在页面对应的json文件中,也可以全局配置在app.json的
window段中, 指定restartStratrgy配置项可以改变这个默认的行为,使得从某个页面退出后,下次A类场景的冷启动可以回到这个页面 

{
  "restarStrategy":'homePage'
}
restartStrategy可选值: 
homePage (默认值)如果从这个页面退出小程序,下次将从首页冷启动
homePAgeAndLatesPage 如果从这个页面退出小程序,下次冷启动后立刻加载这个页面,页面的参数保持不变 不可用于tab页 


注意: 即使不配置homePage ,小程序如果退出过久,当前默认一天时间,可以使用退出状态来调整,下次冷启动时也将不再遵循restartStrategy
的配置,而是直接从首页冷启动
无论如何,页面中的状态并不会保留,如输入框中的文本内容,checkbox的勾选状态等都不会还原,如果需要还原或部分还原,需要利用退出状态


小程序热启动的页面 

小程序热启动时,打开的页面有以下情况

A类场景 若启动的场景中不带path,则保留上次的浏览的状态
B类场景 若启动的场景中带有path,则reLaunch到对应path的页面 
1001 发现栏小程序主入口 
1003 星标小程序列表
1023 系统桌面小图标打开小程序 
1038 从其他小程序返回小程序
1056 聊天顶部音乐播放器右上角菜单,打开小程序
1080 客服会话菜单小程序入口,打开小程序
1083


退出状态 
每当小程序可能被销毁之前,页面回调函数onSaveEcitState会被调用,如果想保留页面中的状态,可以在这个回调函数中
保存一些数据,下次启动时可以通过exitstate获得这些已保存数据

Page({
   onLoad: function(){
     var prevExitState=this.exitState //尝试获得上一次退出前onSaveExitState保存的数据
     if(prevExitState !==undefiend){
       prevExitstate.myDataField==='myData'
     }
   },
   onSaveExitState:function(){
     var exitState={myDataField:"myData"} //需要保存的数据
     return {
      data:exitState,
      expireTimeStamp:Date.now
     }
   }
})